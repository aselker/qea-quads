The software backend of Physics Tracker is built in the programming language Mathematica. It reads a CSV file and interprets it as timestamps and sensor measurements. Then, it uses a few algorithms to manipulate the data. First, the gyroscope data is processed to build a model of the Physics Tracker's angle in space, at each given time (down to a thousandth of a second). Then, using these angles, the acceleration data can be interpreted to give velocity and relative position.

Most of the operations are performed using Mathematica's powerful matrix-manipulation tools, allowing for fast, accurate calculations. Each rotation is represented as a rotation matrix in three dimensions, preventing gimbal lock and other problems associated with direction-angle and roll-pitch-yaw rotation. After this conversion, the rotations are "stacked," accumulating direction change the same way the tracker does. This builds a time series of directions, which is used in the next steps.

The accelerometer data is taken in as a list of accelerations in each axis, at each time. In order to use them, we have to compensate for the Tracker's rotation. We can do this using the angles we got from the previous step, simply by mupltiplying the rotation matrices by the acceleration vectors. Next, we compensate for gravity by subtracting a fixed amount (9.81 m/s^2) from each rotated measurement.

The numerical integral of the acceleration -- performed by mupliplying measurements by their corresponding time periods, and then by an upper-triangular matrix -- yields the Tracker's velocity. Integrating again yields its position, as a path over time.

In practice, the process works moderately well. Over short time periods, the tracker's position and orientation can be tracked well enough for visualization or rough measurements. Over longer periods of time, however, the dead-reckoning nature of the measurements begins to cause problems. Because the sensor can only measure the second derivate of position, small errors grow rapidly and can swamp any real signal. We thus recommend that if you need to track small or slow motions, you combine the Physics Tracker with another, absolute measurement tool, such as GPS or compass measurements. This allows the Tracker's high-speed, high-precision strengths to complement the slow reliability of an absolute measurement.
